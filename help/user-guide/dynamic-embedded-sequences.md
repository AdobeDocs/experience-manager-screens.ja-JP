---
title: 動的埋め込みシーケンスの使用
description: AEM Screens プロジェクトに動的埋め込みシーケンスを実装する方法を説明します。
contentOwner: jsyal
content-type: reference
products: SG_EXPERIENCEMANAGER/6.5/SCREENS
topic-tags: authoring
feature: Authoring Screens
role: Admin, Developer
level: Intermediate
exl-id: 3208d058-0812-44e1-83e3-b727b384876a
source-git-commit: fff2df02661fc3fb3098be40e090b8bc6925bcc2
workflow-type: tm+mt
source-wordcount: '2426'
ht-degree: 48%

---

# 動的埋め込みシーケンスの使用 {#using-dynamic-embedded-sequence}

「動的埋め込みシーケンスの使用」では、以下のトピックについて説明します。

* **概要**
* **AEM Screens での動的埋め込みエクスペリエンスの使用**
* **結果の表示**
* **ユーザーの制限と ACL の変更**

## 概要 {#overview}

***動的埋め込みシーケンス*** は、親子階層に従う大きなプロジェクトの場合に作成されます。子は、チャネルフォルダーではなく、ロケーションフォルダー内で参照されます。 ユーザーは、***チャネルロール***&#x200B;別にチャネル内にシーケンスを埋め込むことができます。これにより、ユーザーは、メインチャネル内の埋め込みシーケンスを使用して、様々なオフィス向けにロケーション固有のプレースホルダーを定義できます。

チャネルをディスプレイに割り当てる際には、ディスプレイのパスまたはコンテキストによって実際のチャネルに解決されるチャネルの役割を指定できます。

動的埋め込みシーケンスを使用するには、***チャネルロール***&#x200B;別にチャネルを割り当てます。チャネルロールはディスプレイのコンテキストを定義します。ロールは様々なアクションのターゲットになり、ロールを実行する実際のチャネルとは無関係です。この節では、チャネルを役割別に定義したユースケースと、そのコンテンツをグローバルチャネルに適用する方法について説明します。 ロールは、割り当て用の ID、またはディスプレイのコンテキストにおけるチャネルのエイリアスと考えることもできます。

### 動的埋め込みシーケンスを使用するメリット {#benefits-of-using-dynamic-embedded-sequences}

チャネルフォルダーではなく場所内にシーケンスチャネルを配置する主な利点は、ローカルまたは地域の作成者が関連するコンテンツを編集できることです。 これはすべて、階層の上位にあるチャネルの編集から制限されています。

の参照 *役割別チャネル*&#x200B;では、チャネルのローカルバージョンを作成して、場所固有のコンテンツを動的に解決できます。また、場所固有のチャネルのコンテンツを使用するグローバルチャネルを作成することもできます。

>[!NOTE]
>
>**埋め込みシーケンスと動的埋め込みシーケンスの比較**
>
>動的埋め込みシーケンスは、埋め込みシーケンスと似ていますが、使用する際には階層に従うことができます。つまり、あるチャネルに対しておこなわれた変更／更新が、関連する他のチャネルにも反映されます。動的埋め込みシーケンスは、親子階層に従い、その中には画像やビデオなどのアセットも含まれます。
>
>***動的埋め込みシーケンス***&#x200B;ではロケーション固有のコンテンツを表示できるのに対して、***埋め込みシーケンス***&#x200B;では、コンテンツの一般的なスライドショーのみ表示できます。また、動的埋め込みシーケンスを設定する際に、チャネルの役割と名前を使用してチャネルを設定します。 実践的な実装については、次の手順を参照してください。
>
>埋め込みシーケンスの実装について詳しくは、を参照してください。 [埋め込みシーケンス](embedded-sequences.md) AEM Screensで。

以下の例では、次のキーワードに的を絞ったソリューションを示しています。

* a ***メインシーケンスチャネル*** グローバルシーケンス用。
* ***動的埋め込みシーケンス*** シーケンスのローカルでカスタマイズ可能な各部分のコンポーネント
* ***個々のシーケンスチャネル*** それぞれの場所で *役割* 一致するディスプレイで **動的埋め込みシーケンスコンポーネント *役割***.

>[!NOTE]
>
>チャネル割り当てについて詳しくは、AEM Screens ドキュメントのオーサリングに関する節の&#x200B;**[チャネル割り当て](channel-assignment.md)**&#x200B;を参照してください。

## 動的埋め込みシーケンスの使用 {#using-dynamic-embedded-sequence-2}

ここでは、AEM Screens チャネルでの動的埋め込みシーケンスの作成について説明します。

### 前提条件 {#prerequisites}

この機能の実装を開始する前に、動的埋め込みシーケンスの実装を開始するための次の前提条件を満たしていることを確認してください。

* AEM Screens プロジェクト（この例では、 **デモ**）に設定します。
* チャネルをとして作成 **グローバル** 未満 **チャネル** フォルダー。
* にコンテンツを追加 **グローバル** チャネル （*チェック&#x200B;**Resources.zip**（関連する資産）*）に設定します。

次の画像は、**Channels** フォルダーに **Global** チャネルがある **Demo** プロジェクトを示しています。![screen_shot_2018-09-07at21032pm](assets/screen_shot_2018-09-07at21032pm.png)

### リソース {#resources}

次のリソース（画像）をダウンロードしてアセットに追加し、デモ用のチャネルコンテンツとして使用できます。

[ファイルを入手](assets/resources.zip)

>[!NOTE]
>
>プロジェクトの作成方法とシーケンスチャネルの作成方法について詳しくは、次のリソースを参照してください。
>
>* **[プロジェクトの作成と管理](creating-a-screens-project.md)**
>* **[チャネルの管理](managing-channels.md)**
>

AEM Screens プロジェクトに動的埋め込みシーケンスを実装するには、主に次の 3 つのタスクが必要になります。

1. **チャネル、ロケーション、ディスプレイなどのプロジェクト分類のセットアップ**
1. **スケジュールの作成**
1. **各ディスプレイへのスケジュールの割り当て**

この機能を実装するには、以下の手順に従います。

>[!CAUTION]
>
>動的埋め込みシーケンスを実装する際は、 **名前** および **タイトル** 各ロケーションでチャネルを作成する際に入力するフィールド。 命名法の指示に慎重に従ってください。

1. **2 つのロケーションフォルダーを作成します。**

   AEM Screens プロジェクトの「**ロケーション**」フォルダーに移動し、「**Region A**」と「**Region B**」という 2 つのロケーションフォルダーを作成します。

   >[!NOTE]
   >
   >ロケーションフォルダー「**Region A**」を作成する際は、「**タイトル**」を「**Region A**」と入力してください。「**名前**」フィールドは空のままにしておくことができます。その場合は、「**region-a**」という名前が自動的に選択されます。
   >
   >場所フォルダーの作成の場合も同様です **地域 B**&#x200B;を次に示します。

   ![screen_shot_2018-09-13at23212pm](assets/screen_shot_2018-09-13at23212pm.png)

   >[!NOTE]
   >場所の作成方法については、を参照してください。 **[ロケーションの作成と管理](managing-locations.md)**.

1. **各ロケーションフォルダーに 2 つのロケーションと 1 つのチャネルを作成します。**

   1. に移動します。 **デモ** > **場所** > **地域 A**.
   1. クリック **地域 A** をクリックして、 **+作成** アクションバーから。
   1. クリック **場所** を使用してウィザードから **タイトル** as **ストア 1**. 同様に、ウィザードを使用して、「**タイトル**」が「**Store 2**」の別のロケーションを作成します&#x200B;**。**「**Store 1**」と「**Store 2**」の作成時には、「**名前**」フィールドを空のままにしておくことができます。
   1. 手順（b）を繰り返し、ここで **シーケンスチャネル** ウィザードから変更します。 このチャネルの「**タイトル**」に「**Region A**」、「**名前**」に「**region**」と入力します。

   >[!CAUTION]
   >
   >チャネルを作成する際は、を確認してください **地域 A**&#x200B;を入力します **タイトル** as **地域 A** および **名前** as **地域**.

   ![screen_shot_2018-09-13at22857pm](assets/screen_shot_2018-09-13at22857pm.png)

   同様に、「**Region B**」で、「**Store 3**」および「**Store 4**」というタイトルの 2 つのロケーションを作成します。また、「**タイトル**」が「**Region B**」で「**名前**」が「**region**」の&#x200B;**シーケンスチャネル**&#x200B;も作成します。

   >[!CAUTION]
   >
   >で作成したチャネルには、必ず同じ名前を使用してください。 **地域 A** および **地域 B** as **地域**.

   ![screen_shot_2018-09-13at24408pm](assets/screen_shot_2018-09-13at24408pm.png)

1. **各ロケーションにディスプレイとチャネルを作成します。**

   1. に移動します。 **デモ** > **場所** > **地域 A** > **ストア 1**.
   1. クリック **ストア 1** をクリックして、 **+作成** アクションバーから。
   1. クリック **表示** ウィザードからの作成 **`Store1Display`**.
   1. 手順（b）を繰り返し、今回は **シーケンスチャネル** ウィザードから変更します。 を入力 **タイトル** as **`Store1Channel`** および **名前** as **store**.

   >[!CAUTION]
   >
   >シーケンスチャネルを作成する際、チャネルの「**タイトル**」は要件に応じて設定できますが、「**名前**」はすべてのローカルチャネルで同じにする必要があります。
   >この例では、以下のチャネルです。 **地域 A** および **地域 B** share **名前** as **地域** 配下のおよびチャネル **`Store 1`**, **`Store 2`**, **`Store 3`**、および **`Store 4`** share **名前** as **store**.

   ![screen_shot_2018-09-19at120206pm](assets/screen_shot_2018-09-19at120206pm.png)

   同様に、ディスプレイをとして作成します **`Store2Display`** およびチャネル **`Store2Channel`** 未満 **`Store `2** （次の名前を使用： **store**）に設定します。

   >[!NOTE]
   >で作成したチャネルには、必ず同じ名前を使用してください。 **`Store 1`** および **`Store 2`** as **store**.

   ![screen_shot_2018-09-19at120329pm](assets/screen_shot_2018-09-19at120329pm.png)

   上記の手順に従ってチャネルを作成し、で表示します **`Store 3`** および **`Store 4`** 未満 **地域 B**. ここでも、同じを使用していることを確認します **名前** as **store** チャネルの作成中 **`Store3Channel`** および **`Store4Channel`** それぞれ。

   次の画像は、のディスプレイとチャネルを示しています **`Store 3`**.

   ![screen_shot_2018-09-19at120448pm](assets/screen_shot_2018-09-19at120448pm.png)

   次の画像は、のディスプレイとチャネルを示しています **`Store 4`**.

   ![screen_shot_2018-09-19at120552pm](assets/screen_shot_2018-09-19at120552pm.png)

1. **チャネルのそれぞれのロケーションにコンテンツを追加します。**

   に移動します。 **デモ** > **場所** > **地域 A** > **地域 A** をクリックして、 **編集** アクションバーから。 チャネルに追加するアセットをドラッグ＆ドロップします。

   >[!NOTE]
   >上記の&#x200B;***リソース***&#x200B;で言及した **resources.zip** ファイルを使用して、その中の画像をチャネルコンテンツのアセットとして使用できます。

   ![screen_shot_2018-09-12at12438pm](assets/screen_shot_2018-09-12at12438pm.png)

   同様に、に移動します **デモ** > **場所** > **地域 B** > **地域 B** をクリックして、 **編集** 次に示すように、アクションバーからアセットをチャネルにドラッグ&amp;ドロップします。

   ![screen_shot_2018-09-12at13133pm](assets/screen_shot_2018-09-12at13133pm.png)

   上記の手順およびリソースに従って、次のチャネルにコンテンツを追加できるようにします。

   * **`Store1Channel`**
   * **`Store2Channel`**
   * **`Store3Channel`**
   * **`Store4Channel`**

1. **スケジュールを作成します。**

   移動して、クリックします **スケジュール** AEM Screens プロジェクトのフォルダー。 次に、 **作成** アクションバーから。

   次の画像は、**Demo** プロジェクトに作成した **AdSchedule** を示しています。

   ![screen_shot_2018-09-13at33307pm](assets/screen_shot_2018-09-13at33307pm.png)

1. **スケジュールにチャネルを割り当てます。**

   1. に移動します。 **デモ** > **スケジュール** > **AdSchedule** をクリックして、 **Dashboard** アクションバーから。
   1. クリック **+ チャネルを割り当て** から **割り当てられたチャネル** パネルを開く **チャネル割り当て** ダイアログが表示されます。
   1. クリック **参照チャネル** パス。
   1. 「」をクリックします **チャネルパス** as **デモ** > ***チャネル*** > ***グローバル***.
   1. 「**チャネルロール**」に「**GlobalAdSegment**」と入力します。
   1. 「」をクリックします **サポートされるイベント** as **初期読み込み**, **アイドル画面**、および **ユーザーインタラクション**.
   1. 「**保存**」をクリックします。

   **地域のチャネルをロール別に割り当てます。**

   1. クリック **+ チャネルを割り当て** から **割り当てられたチャネル** パネル。
   1. チャネルの割り当てダイアログボックスで、 **参照チャネル** 名前別。
   1. 「**チャネル名**」に「**region**」と入力します *。
   1. 「**チャネルロール**」に「**RegionAdSegment**」と入力します。
   1. 「**保存**」をクリックします。

   **ストアのチャネルをロール別に割り当てます。**

   1. クリック **+ チャネルを割り当て** から **割り当てられたチャネル** パネル。
   1. チャネルの割り当てダイアログボックスで、 **参照チャネル** 名前別。
   1. 「**チャネル名**」に「**store**」と入力します。
   1. 「**チャネルロール**」に「**StoreAdSegment**」と入力します。
   1. 「**保存**」をクリックします。

   次の図は、割り当てられたチャネルをパス別およびロール別に示しています。

   ![screen_shot_2018-09-12at21429pm](assets/screen_shot_2018-09-12at21429pm.png)

1. **動的埋め込みシーケンスをグローバルチャネルに設定します。**

   に移動します。 **グローバル** 最初に作成したチャネル： **デモ** プロジェクト。

   クリック **編集** アクションバーから。

   ![screen_shot_2018-09-13at52754pm](assets/screen_shot_2018-09-13at52754pm.png)

   エディターで、2 つをドラッグ&amp;ドロップします **動的埋め込みシーケンス** チャネルエディターのコンポーネント。

   どちらか一方のコンポーネントのプロパティを開き、「**チャネル割り当ての役割**」に「**RegionAdSegment**」と入力します。

   同様に、他のコンポーネントをクリックし、プロパティを開いてを入力します **チャネル割り当ての役割** as **StoreAdSegment**.

   ![channeldisplay4](assets/channeldisplay4.gif)

1. **各ディスプレイへのスケジュールの割り当て**

   1. 次のような各表示に移動します **デモ** > **場所** > **地域 A** >**ストア 1** >**`Store1Display`**.
   1. クリック **Dashboard** アクションバーから。
   1. ダッシュボードで、 **...** から **割り当てられたチャネルとスケジュール** パネルを開き、 **+スケジュールの割り当て**.
   1. スケジュールのパスをクリックします（ここでは、 **デモ** > **スケジュール** > **AdSchedule**）に設定します。
   1. 「**保存**」をクリックします。

## 結果の表示 {#viewing-the-results}

チャネルと表示の設定が完了したら、AEM Screens Player を起動してコンテンツを表示します。

>[!NOTE]
>
>AEM Screens Player について詳しくは、次のリソースを参照してください。
>
>* [AEM Screens Player のダウンロード](https://download.macromedia.com/screens/)
>* [AEM Screens Player での作業](working-with-screens-player.md)


以下では、ディスプレイパスに応じて、AEM Screens Player でチャネルのコンテンツを確認します。

**シナリオ 1**：

表示パスをに割り当てた場合 **デモ** > **場所** > **地域 A** > **ストア 1** > **`Store1Display`**&#x200B;では、次のコンテンツがAEM Screens Player に表示されます。

![channeldisplay1](assets/channeldisplay1.gif)

**シナリオ 1**：

表示パスをに割り当てた場合 **デモ** > **場所** > **地域 B** > **ストア 3** > **`Store3Display`**&#x200B;では、次のコンテンツがAEM Screens Player に表示されます。

![channeldisplay2](assets/channeldisplay2.gif)

## ユーザーの制限と ACL の変更 {#restricting-users-and-modifying-the-acls}

グローバル、地域またはローカルの作成者ユーザーを作成して、作成者が自分に関係のあるコンテンツを編集できる一方、上位階層のチャネルの編集を制限されるようにすることができます。

ACL を編集して、場所に基づいてコンテンツに対するユーザーのアクセスを制限できます。

### ユースケース例 {#example-use-case}

次の例では、上記のデモプロジェクトに 3 人のユーザーを作成できます。

各グループに割り当てられる権限は、次のとおりです。

**グループ**：

* **Global-Author**：**Demo** プロジェクト内のすべてのロケーションとチャネルにアクセスでき、読み取り、書き込み、編集の権限をすべて持っているユーザーで構成されます。

* **Region-Author**：**Region A** と **Region B** に対する読み取り、書き込み、編集の権限を持つユーザーで構成されます。

* **Store-Author**：**Store 1**、**Store 2**、**Store 3**、**Store 4** のみに対する読み取り、書き込み、編集の権限を持つユーザーで構成されます。

#### ユーザーグループとユーザーの作成および ACL の設定の手順 {#steps-for-creating-user-groups-users-and-setting-up-acls}

>[!NOTE]
>
>個々またはチームが独自のプロジェクトを処理できるように ACL を使用してプロジェクトを分離する方法について詳しくは、を参照してください。 **ACL の設定**.

次の手順に従って、グループおよびユーザーを作成し、権限に応じて ACL を変更します。

1. **グループの作成**

   1. **Adobe Experience Manager** に移動します。
   1. クリック **ツール** > **セキュリティ** > **グループ**.
   1. 「**グループを作成**」をクリックし、「**ID**」に「**Global-Author**」と入力します。
   1. 「**保存して閉じる**」をクリックします。

   同様に、**Region-Author** や **Store-Author** など、他の 2 つのグループを作成します。

   ![screen_shot_2018-09-17at34008pm](assets/screen_shot_2018-09-17at34008pm.png)

1. **ユーザーの作成とグループへのユーザーの追加**

   1. **Adobe Experience Manager** に移動します。
   1. **ツール**／**セキュリティ**／**ユーザー**&#x200B;をクリックします。
   1. 「**ユーザーを作成**」をクリックし、「**ID**」に「**Global-User**」と入力します。
   1. このユーザーのパスワードを「**パスワード**」に入力し、パスワードの確認入力もおこないます。
   1. 「」をクリックします **グループ** tab キーを押して、にグループ名を入力します。 **Click Group**&#x200B;例えば、 **Global-Author** 追加 **Global-User** その特定のグループに。
   1. 「**保存して閉じる**」をクリックします。

   同様に、**Region-User** や **Store-User** など、他の 2 人のユーザーを作成し、それらを **Region-Author** と **Store-Author** にそれぞれ追加します。

   >[!NOTE]
   >グループにユーザーを追加してから、個々のユーザーグループに権限を割り当てることをお勧めします。

   ![screen_shot_2018-09-17at34412pm](assets/screen_shot_2018-09-17at34412pm.png)

1. **寄稿者へのすべてのグループの追加**

   1. **Adobe Experience Manager** に移動します。
   1. クリック **ツール** > **セキュリティ** > **グループ**.
   1. クリック **投稿者** リストで、をクリックします。 **メンバー** タブ。
   1. 「」をクリックします **グループ** 例： **Global-Author**, **地域作成者** および **Store-Author** コントリビューターに対して
   1. 「**保存して閉じる**」をクリックします。

1. **各グループの権限へのアクセス**

   1. *useradmin* に移動し、この UI を使用して様々なグループの権限を変更します。
   1. **Global-Author** を検索し、「**権限**」タブをクリックします（下図を参照）。
   1. 同様に、**Region-Author** と **Store-Author** の権限にもアクセスできます。

   ![screen_shot_2018-09-18at73523am](assets/screen_shot_2018-09-18at73523am.png)

1. **各グループの権限の変更**

   **Global-Author の場合：**

   1. 「**権限**」タブに移動します。
   1. ***/content/screens/demo*** に移動し、すべての権限を有効にします。
   1. ***/content/screens/demo/locations*** に移動し、すべての権限を有効にします。
   1. ***/content/screens/demo/locations/region-a*** に移動し、すべての権限を有効にします。同様に、の権限も確認します **`region-b`**.

   手順について詳しくは、次の図を参照してください。
   ![screen_shot_2018-09-18at115752am](assets/screen_shot_2018-09-18at115752am.png)

   以下は、 **Global-User** にアクセスできます **グローバルチャネル**、およびその両方 **地域 A** および **地域 B** 4 つの店すべてで、すなわち **ストア 1**, **ストア 2**, **ストア 3**、および **ストア 4**.

   ![global](assets/global.gif)

   **Region-Author の場合：**

   1. 「**権限**」タブに移動します。
   1. ***/content/screens/demo*** に移動し、**読み取り**&#x200B;権限のみ有効にします。
   1. ***/content/screens/demo/locations*** に移動し、**読み取り**&#x200B;権限のみ有効にします。
   1. に移動します。 ***/content/screens/demo/channels*** 次の権限をオフにします： **グローバル** チャネル。
   1. ***/content/screens/demo/locations***/***region-a*** に移動し、すべての権限を有効にします。同様に、の権限も確認します **`region-b`**.

   手順を理解するには、次の画像を参照してください。

   ![screen_shot_2018-09-18at125158pm](assets/screen_shot_2018-09-18at125158pm.png)

   次に示すのは、地域ユーザーが両方にアクセスできることを示します **地域 A** および **地域 B**、4 つのストアすべて、すなわち **ストア 1**, **ストア 2**, **ストア 3**、および **ストア 4**&#x200B;ただし、はにアクセスしません **グローバル** チャネル。

   ![region](assets/region.gif)

   **Store-Author の場合：**

   1. 「**権限**」タブに移動します。
   1. ***/content/screens/demo*** に移動し、**読み取り**&#x200B;権限のみ有効にします。
   1. ***/content/screens/demo/locations*** に移動し、**読み取り**&#x200B;権限のみ有効にします。
   1. に移動します。 ***/content/screens/demo/channels*** 次の権限をオフにします： **グローバル** チャネル。
   1. ***/content/screens/demo/locations/region-a*** に移動し、**読み取り**&#x200B;権限のみ有効にします。同様に、 **Read** 権限： **`region-b`**.
   1. ***/content/screens/demo/locations***/***region-a /store-1*** に移動し、すべての権限を有効にします。同様に、**store-2、store-3**、**store-4** に対する権限を有効にします。

   手順を理解するには、次の画像を参照してください。

   ![screen_shot_2018-09-18at12415pm](assets/screen_shot_2018-09-18at12415pm.png)

   以下は、 **Store-User** 次へのアクセスのみ可能： **ストア 1**, **ストア 2**, **ストア 3**、および **ストア 4**。ただし、にはにアクセスするための権限がありません **グローバル** または region （**地域 A** および **地域 B**）チャネルです。

   ![store](assets/store.gif)

>[!NOTE]
>
>権限の設定について詳しくは、以下を参照してください [ACL の設定](setting-up-acls.md).
