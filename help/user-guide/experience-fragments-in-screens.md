---
title: エクスペリエンスフラグメントの使用
description: AEM Screensでのエクスペリエンスフラグメントの使用について説明します。
contentOwner: jsyal
content-type: reference
products: SG_EXPERIENCEMANAGER/6.5/SCREENS
topic-tags: authoring
docset: aem65
feature: Authoring Screens, Experience Fragments
role: Admin, Developer
level: Intermediate
exl-id: 13c0d75e-435f-433e-8886-f451df863517
source-git-commit: b65e59473e175e7c1b31fba900bb7e47eff3a263
workflow-type: tm+mt
source-wordcount: '1095'
ht-degree: 41%

---

# エクスペリエンスフラグメントの使用 {#using-experience-fragments}

ここでは、以下のトピックについて説明します。

* **概要**
* **AEM Screens でのエクスペリエンスフラグメントの使用**
* **ページへの変更の反映**

## 概要 {#overview}

***エクスペリエンスフラグメント***&#x200B;は、ページ内で参照できるコンテンツおよびレイアウトを含む 1 つ以上のコンポーネントのグループです。エクスペリエンスフラグメントには、任意のコンポーネントを含めることができます。例えば、段落システム内に含めることができる 1 つまたは複数のコンポーネントです。段落システムは、完全なエクスペリエンスに参照されるか、3 番目のエンドポイントから要求されます。


## AEM Screens でのエクスペリエンスフラグメントの使用 {#using-experience-fragments-in-aem-screens}

>[!NOTE]
>次の例では、を使用しています **`We.Retail`** エクスペリエンスフラグメントの適用元となるデモプロジェクトとして **Sites** AEM Screens プロジェクトに移動します。

例えば、次のワークフローは、以下の場所からエクスペリエンスフラグメントを使用する方法を示しています。 `We.Retail` （サイト内）。 Web ページを選択し、そのコンテンツをAEM Screens チャンネルでプロジェクトの 1 つに使用できます。

### 前提条件 {#pre-requisites}

**チャネルを含んだデモプロジェクトの作成**

***プロジェクトの作成***

1. プロジェクトを作成するには、を選択します。 **Screens プロジェクトの作成**.
1. タイトルに「**DemoProject**」と入力します。
1. 「**保存**」を選択します。

A **デモプロジェクト** がAEM Screensに追加されました。

***チャネルの作成***

1. 作成した **DemoProject** プロジェクトに移動し、**チャネル**&#x200B;フォルダーを選択します。

1. を選択 **作成** アクションバーからウィザードを開きます。
1. を選択します。 **シーケンスチャネル** ウィザードから「テンプレート」を選択し、 **次**.

1. を入力 **タイトル** as **TestChannel** を選択して、 **作成**.

A **TestChannel** さんがに追加されました **デモプロジェクト**.\
![screen_shot_2019-07-29at105101am](assets/screen_shot_2019-07-29at105101am.png)


### エクスペリエンスフラグメントの作成 {#creating-an-experience-fragment}

次の手順に従って、コンテンツをから適用します **`We.Retail`** 宛先： **TestChannel** 。対象： **デモプロジェクト**.

1. **We.Retail の Sites ページへの移動**

   1. Sites に移動して、以下を選択します。 **`We.Retail`** > **米国** > **英語** > **設備** このページを選択して、Screens チャネルのエクスペリエンスフラグメントとして使用できるようにします。

   1. を選択 **編集** アクションバーから開き、Screens チャネルのエクスペリエンスフラグメントとして使用するページを開きます。

1. **コンテンツの再利用**

   1. チャネルに含めるフラグメントを選択します。
   1. 右端のアイコンを選択して、 **エクスペリエンスフラグメントに変換** ダイアログが表示されます。

   ![screen_shot_2019-07-29at105314am](assets/screen_shot_2019-07-29at105314am.png)

1. **エクスペリエンスフラグメントの作成**

   1. 「**アクション**」として「**新しいエクスペリエンスフラグメントを作成**」を選択します。

   1. 「**親パス**」を選択します。
   1. 「**テンプレート**」を選択します。ここでは、「**エクスペリエンスフラグメント - 画面のバリエーション**」テンプレート（このフィールドの `/libs/settings/screens/experience-fragments/templates/experience-fragment-template-screens` 値）を選択します。

   1. 「**フラグメントのタイトル**」に「**ScreensFragment**」と入力します。

   1. 新しいエクスペリエンスフラグメントの作成を完了するには、チェックマークを選択します。

   ![screen_shot_2019-07-29at105918am](assets/screen_shot_2019-07-29at105918am.png)

   注：より簡単なオプションを選択するには、フィールドの右側のチェックマークを選択して、選択ダイアログボックスを開きます。

1. **エクスペリエンスフラグメントのライブコピーの作成**

   1. AEM ホームページに移動します。
   1. 「**エクスペリエンスフラグメント**」を選択し、「**ScreensFragment**」をハイライト表示して、「**バリエーションをライブコピーとして**」をクリックします（下図を参照）。

   ![screen_shot_2019-07-29at110443am](assets/screen_shot_2019-07-29at110443am.png)

   c. **ライブコピーを作成**&#x200B;ウィザードで「**ScreensFragment**」を選択し、「**次へ**」をクリックします。

   d. 「**タイトル**」と「**名前**」に「**Screens**」と入力します。

   e.を選択 **作成** そのため、ライブコピーを作成できます。

   f.を選択 **完了** したがって、次の場所に戻ることができます **ScreensFragment** ページ。

   ![screen_shot_2019-07-29at110616am](assets/screen_shot_2019-07-29at110616am.png)

   >[!NOTE]
   >
   >AEM Screens フラグメントを作成したら、フラグメントのプロパティを編集できます。 フラグメントを選択し、アクションバーの「**プロパティ**」をクリックします。

   **Screens フラグメントのプロパティの編集**

   1. （前の手順で作成した）**ScreensFragment** に移動し、アクションバーの「**プロパティ**」をクリックします。

   1. 「**オフライン設定**」タブを選択します（下図を参照）。

   を追加できます **クライアントサイドライブラリ** （Java™ と css）および **静的ファイル** をエクスペリエンスフラグメントに追加します。

   次の例では、エクスペリエンスフラグメントへの静的ファイルの一部としてクライアント側ライブラリとフォントを追加する方法を示しています。  ![fragment](assets/fragment.gif)

1. **Screens チャネルでのコンポーネントとしてのエクスペリエンスフラグメントの使用**

   1. **Screens** フラグメントを使用する Screens チャネルに移動します。
   1. 「**TestChannel**」を選択し、アクションバーの「**編集**」をクリックします。

   1. サイドタブのコンポーネントアイコンをクリックします。
   1. チャネルに「**エクスペリエンスフラグメント**」をドラッグ＆ドロップします。

   ![screen_shot_2019-07-29at123115pm](assets/screen_shot_2019-07-29at123115pm.png)

   e. 「選択」 **エクスペリエンスフラグメント** コンポーネントを選択し、左上の（レンチ）アイコンを選択して、 **エクスペリエンスフラグメント** ダイアログが表示されます。

   f. 前述の&#x200B;*手順 3* で作成したフラグメントの **Screens** ライブコピーを&#x200B;**パス**&#x200B;で選択します。

   ![screen_shot_2019-07-26at82650pm](assets/screen_shot_2019-07-26at82650pm.png)

   f. 前述の&#x200B;**手順 3** で作成したフラグメントの *Screens* ライブコピーを「**エクスペリエンスフラグメント**」フィールドで選択します。

   ![screen_shot_2019-07-26at82509pm](assets/screen_shot_2019-07-26at82509pm.png)

   h. ミリ秒を「**期間**」に入力します。

   i. 「選択」 **オフライン設定** から **エクスペリエンスフラグメント** ダイアログボックスが開き、クライアントサイドライブラリと静的ファイルを定義できます。

   >[!NOTE]
   >
   >クライアントサイドライブラリ、または手順（4）で設定した静的ファイルに加えて、を追加できます。 **オフライン設定** タブ **エクスペリエンスフラグメント** ダイアログが表示されます。

   ![screen_shot_2019-07-26at82844pm](assets/screen_shot_2019-07-26at82844pm.png)

   j. チェックマークを選択して、プロセスを完了します。

### 結果の検証 {#validating-the-result}

上記の手順を完了したら、でエクスペリエンスフラグメントを検証できます。 **ChannelOne** 基準：

1. **TestChannel** に移動します。
1. アクションバーの「**プレビュー**」をクリックします。

からのコンテンツの表示 **Sites** チャネルのページ（エクスペリエンスフラグメントのライブコピー）（下図を参照）。\
![screen_shot_2018-06-08at120739pm](assets/screen_shot_2018-06-08at120739pm.png)

## ページへの変更の反映 {#propagating-changes-from-the-master-page}

***ライブコピー***&#x200B;とは、ロールアウト設定で定義された同期アクションによって維持管理される（ソースの）コピーのことです。

作成したエクスペリエンスフラグメントは、からライブコピーだからです。 **Sites** ページを開き、プライマリページからその特定のフラグメントを変更すると、チャネルの変更内容が表示されます。 または、エクスペリエンスフラグメントを使用した宛先を表示します。

>[!NOTE]
>
>ライブコピーについて詳しくは、コンテンツの再利用：マルチサイトマネージャーとライブコピーを参照してください。

プライマリチャネルから宛先チャネルに変更を反映させるには、次の手順に従います。

1. からエクスペリエンスフラグメントを選択 **Sites** （プライマリ）ページに移動し、鉛筆アイコンをクリックして、エクスペリエンスフラグメントの項目を編集します。

   ![screen_shot_2018-06-08at122655pm](assets/screen_shot_2018-06-08at122655pm.png)

1. エクスペリエンスフラグメントを選択し、レンチ アイコンをクリックして、画像を編集するためのダイアログボックスを開きます。

   ![screen_shot_2018-06-08at25031pm](assets/screen_shot_2018-06-08at25031pm.png)

1. **商品グリッド**&#x200B;ダイアログボックスが開きます。

   ![screen_shot_2018-06-08at25306pm](assets/screen_shot_2018-06-08at25306pm.png)

1. 任意の画像を編集できます。例えば、ここでは、このフラグメントの最初の画像が置き換えられます。

   ![screen_shot_2018-06-08at25608pm](assets/screen_shot_2018-06-08at25608pm.png)

1. エクスペリエンスフラグメントを選択してロールアウトアイコンをクリックし、チャネルで使用されるフラグメントに変更を反映させます。

   ![screen_shot_2018-06-08at31352pm](assets/screen_shot_2018-06-08at31352pm.png)

1. 「ロールアウト」を選択します。

   変更がロールアウトされます。

   ![screen_shot_2018-06-08at32148pm](assets/screen_shot_2018-06-08at32148pm.png)

### 変更の検証 {#validating-the-changes}

チャネルでの変更内容を確認するには、以下の手順に従います。

1. に移動します。 **スクリーン** > **チャネル** > **TestChannel**.

1. クリック **プレビュー** アクションバーから。

次の画像は、**TestChannel** に反映された変更を示しています。\
![screen_shot_2018-06-08at33351pm](assets/screen_shot_2018-06-08at33351pm.png)
